<?xml version="1.0" standalone="no"?> <!--*- mode: xml -*-->
<app-bundle>

  <meta>
    <prefix name="default">${env:JHBUILD_PREFIX}</prefix>

    <destination overwrite="yes">${project}</destination>

    <image>
      <!-- Not implemented yet (DMG image). -->
    </image>

    <!-- Comment this out to keep the install names in binaries -->
    <run-install-name-tool/>
 
    <launcher-script>${project}/launcher.sh</launcher-script >

  </meta>

  <plist>${project}/Info.plist</plist>

  <main-binary>${prefix}/bin/spek</main-binary>

  <binary>${prefix}/lib/gtk-2.0/${pkg:gtk+-2.0:gtk_binary_version}/engines/*.so</binary>
  <binary>${prefix}/lib/gtk-2.0/${pkg:gtk+-2.0:gtk_binary_version}/immodules/*.so</binary>
  <binary>${prefix}/lib/gtk-2.0/${pkg:gtk+-2.0:gtk_binary_version}/loaders/*.so</binary>
  <binary>${prefix}/lib/gtk-2.0/${pkg:gtk+-2.0:gtk_binary_version}/printbackends/*.so</binary>
  <binary>${prefix}/lib/gstreamer-0.10/*.so</binary>

  <!-- Translation filenames, one for each program or library that you
       want to copy in to the bundle. The "dest" attribute is
       optional, as usual. Bundler will find all translations of that
       library/program under the indicated directory and copy them.-->
  <translations dest="${bundle}/Contents/Resources" name="gtk20">
    ${prefix}/share/locale
  </translations>

  <data>${prefix}/share/themes</data>

  <!-- Copy icons. Note that the .icns file is an Apple format which
       contains up to 4 sizes of icon. You can use
       /Developer/Applications/Utilities/Icon Composer.app to import
       artwork and create the file. >
  <data dest="${bundle}/Contents/Resources">
    ${project}/Spek.icns
  </data -->

  <data dest='${bundle}/Contents/Resources/etc/gtk-2.0/gtkrc'>
    ${prefix}/share/themes/Quartz/gtk-2.0/gtkrc
  </data>
</app-bundle>
